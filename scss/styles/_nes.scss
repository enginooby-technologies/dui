@mixin nes_border($repeat_mode) {
  border-image-slice: 2;
  border-image-width: 2;
  //   border-image-repeat: stretch;
  border-image-repeat: $repeat_mode;
  border-image-source: url('data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8" ?><svg version="1.1" width="5" height="5" xmlns="http://www.w3.org/2000/svg"><path d="M2 1 h1 v1 h-1 z M1 2 h1 v1 h-1 z M3 2 h1 v1 h-1 z M2 3 h1 v1 h-1 z" fill="rgb(33,37,41)" /></svg>');
  border-image-outset: 2;
  background-clip: padding-box;
  border-style: solid;
  border-width: 4px;
}

.nes-style {
  // CURSOR
  cursor: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABFklEQVRYR9WXURLDIAhE6/0PbSdOtUpcd1Gnpv1KGpTHBpCE1/cXq+vrMph7dGvXZTtpfW10DCA5jrH1H0Jhs5E0hnZdCR+vb5S8Nn8mQCeS9BdSalYJqMBjAGzq59xAESN7VFVUgV8AZB/dZBR7QTFDCqGquvUBVVoEtgIwpQRzmANSFHgWQKExHdIrPeuMvQNDarXe6nC/AutgV3JW+6bgqQLeV8FekRtgV+ToDKEKnACYKsfZjjkam7a0ZpYTytwmgainpC3HvwBocgKOxqRjehoR9DFKNFYtOwCGYCszobeCbl26N6yyQ6g8X/Wex/rBPsNEV6qAMaJPMynIHQCoSqS9JSMmwef51LflTgCRszU7DvAGiV6mHWfsaVUAAAAASUVORK5CYII=),
    auto;

  .form-group input {
    // TODO: typing icon
    cursor: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABFklEQVRYR9WXURLDIAhE6/0PbSdOtUpcd1Gnpv1KGpTHBpCE1/cXq+vrMph7dGvXZTtpfW10DCA5jrH1H0Jhs5E0hnZdCR+vb5S8Nn8mQCeS9BdSalYJqMBjAGzq59xAESN7VFVUgV8AZB/dZBR7QTFDCqGquvUBVVoEtgIwpQRzmANSFHgWQKExHdIrPeuMvQNDarXe6nC/AutgV3JW+6bgqQLeV8FekRtgV+ToDKEKnACYKsfZjjkam7a0ZpYTytwmgainpC3HvwBocgKOxqRjehoR9DFKNFYtOwCGYCszobeCbl26N6yyQ6g8X/Wex/rBPsNEV6qAMaJPMynIHQCoSqS9JSMmwef51LflTgCRszU7DvAGiV6mHWfsaVUAAAAASUVORK5CYII=),
      auto;
  }

  .button,
  button,
  input,
  a,
  .dui-radio span.text,
  .checkbox label,
  .dropdown button {
    cursor: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAzElEQVRYR+2X0Q6AIAhF5f8/2jYXZkwEjNSVvVUjDpcrGgT7FUkI2D9xRfQETwNIiWO85wfINfQUEyxBG2ArsLwC0jioGt5zFcwF4OYDPi/mBYKm4t0U8ATgRm3ThFoAqkhNgWkA0jJLvaOVSs7j3qMnSgXWBMiWPXe94QqMBMBc1VZIvaTu5u5pQewq0EqNZvIEMCmxAawK0DNkay9QmfFNAJUXfgGgUkLaE7j/h8fnASkxHTz0DGIBMCnBeeM7AArpUd3mz2x3C7wADglA8BcWMZhZAAAAAElFTkSuQmCC)
        14 0,
      pointer;
  }

  // SETTING
  // disable this since buttons using border-image which could not has radius!
  #border-panel {
    display: none;
  }

  .cp-toggle {
    background-color: $highlightColor;
  }

  .cp-toggle i {
    color: $contrastHighlightColor !important;
    position: relative;
    top: -5px;
    left: -0.5px;
  }

  .setting-panel {
    background-color: $schemeColor;
  }

  // BASIC COMPONENTS
  .button,
  .cp-toggle {
    border-radius: 0 !important;
    border-image-slice: 2;
    border-image-width: 2;
    border-image-source: url('data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8" ?><svg version="1.1" width="5" height="5" xmlns="http://www.w3.org/2000/svg"><path d="M2 1 h1 v1 h-1 z M1 2 h1 v1 h-1 z M3 2 h1 v1 h-1 z M2 3 h1 v1 h-1 z" fill="rgb(33,37,41)" /></svg>');
    border-image-outset: 2;
    border-style: solid;
    border-width: 4px;
    position: relative;
    display: inline-block;
    margin: 4px;
    text-align: center;
    vertical-align: middle;
    user-select: none;
  }

  .button {
    //     border-image-repeat: space;
    border-image-repeat: stretch;
  }

  .cp-toggle {
    border-image-repeat: stretch;
  }

  .button::after,
  .cp-toggle::after {
    border-radius: 0 !important;
    position: absolute;
    top: -4px;
    right: -4px;
    bottom: -4px;
    left: -4px;
    content: "";
    box-shadow: inset -4px -4px #006bb3; // TODO: Dynamic
  }

  .skillbar {
    @include nes_border(space);
    margin-top: 5px;
    margin-bottom: 5px;
  }

  // FORM COMPONENTS
  .dui-radio > input {
    margin-right: 20px;
    appearance: none;
    width: 1px;
    height: 1px;
    overflow: hidden;
    clip: rect(0 0 0 0);
    white-space: nowrap;
    border: 0;
    clip-path: inset(50%);
    outline: 0;
    box-sizing: border-box;
    padding: 0;
  }

  // arrow icon
  .dui-radio span.text {
    position: relative;
  }

  .dui-radio span.text::before {
    color: $highlightColor; // TODO: Dynamic
  }

  .dui-radio input:checked + label .text::before,
  .dui-radio:hover input + label .text::before {
    position: absolute;
    top: 4px;
    left: -10px;
    content: "";
    width: 2px;
    height: 2px;
    // prettier-ignore
    box-shadow: 2px 2px,4px 2px,2px 4px,4px 4px,6px 4px,8px 4px,2px 6px,4px 6px,6px 6px,8px 6px,10px 6px,2px 8px,4px 8px,6px 8px,8px 8px,10px 8px,12px 8px,2px 10px,4px 10px,6px 10px,8px 10px,10px 10px,2px 12px,4px 12px,6px 12px,8px 12px,2px 14px,4px 14px;
  }

  .dui-radio:hover input:not(:checked) + label .text::before {
    animation: flash infinite;
    animation-duration: 1.3s;
  }

  .checkbox label::before {
    width: 2px;
    height: 2px;
    color: $baseColor; // TODO: Dynamic
    position: absolute;
    top: 2px;
    left: -1px;
    content: "";
    // prettier-ignore
    box-shadow: 2px 2px,4px 2px,6px 2px,8px 2px,10px 2px,12px 2px,14px 2px,16px 2px,2px 4px,16px 4px,2px 6px,16px 6px,2px 8px,16px 8px,2px 10px,16px 10px,2px 12px,16px 12px,2px 14px,16px 14px,2px 16px,4px 16px,6px 16px,8px 16px,10px 16px,12px 16px,14px 16px,16px 16px;
  }

  .checkbox input:checked + ::before {
    // prettier-ignore
    box-shadow: 2px 2px,4px 2px,6px 2px,8px 2px,10px 2px,12px 2px,14px 2px,18px 2px,20px 2px,2px 4px,16px 4px,18px 4px,20px 4px,2px 6px,14px 6px,16px 6px,2px 8px,4px 8px,12px 8px,14px 8px,2px 10px,4px 10px,6px 10px,10px 10px,12px 10px,16px 10px,2px 12px,6px 12px,8px 12px,10px 12px,16px 12px,2px 14px,8px 14px,16px 14px,2px 16px,4px 16px,6px 16px,8px 16px,10px 16px,12px 16px,14px 16px,16px 16px;
  }

  .checkbox label > i {
    display: none;
  }

  .form-group input,
  textarea {
    @include nes_border(space);
    width: calc(100% - 8px);
    padding: 0.5rem 1rem;
    margin: 4px;
  }

  .dropdown,
  .dropdown-menu {
    border-image-slice: 2;
    border-image-width: 2;
    border-image-repeat: stretch;
    //     border-image-repeat: space;
    border-image-source: url('data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8" ?><svg version="1.1" width="5" height="5" xmlns="http://www.w3.org/2000/svg"><path d="M2 1 h1 v1 h-1 z M1 2 h1 v1 h-1 z M3 2 h1 v1 h-1 z M2 3 h1 v1 h-1 z" fill="rgb(33,37,41)" /></svg>');
    border-image-outset: 2;
    background-clip: padding-box;
    border-style: solid;
    border-width: 4px;
  }

  .dropdown button {
    background-color: $schemeColor;
    padding: 3px 5px;
  }

  .dropdown-menu {
    background-color: $schemeColor;
    border-image-repeat: space;
  }

  .dropdown .dropdown-arrow::after {
    width: 3px;
    height: 3px;
    color: $baseColor; //TODO: Dynamic
    box-shadow: 3px 3px, 6px 3px, 9px 3px, 12px 3px, 15px 3px, 18px 3px,
      21px 3px, 3px 6px, 6px 6px, 9px 6px, 12px 6px, 15px 6px, 18px 6px,
      21px 6px, 6px 9px, 9px 9px, 12px 9px, 15px 9px, 18px 9px, 6px 12px,
      9px 12px, 12px 12px, 15px 12px, 18px 12px, 9px 15px, 12px 15px, 15px 15px,
      12px 18px;
    position: absolute;
    top: calc(50% - 11px);
    right: 19px;
    pointer-events: none;
    content: "";
    zoom: 0.5;
  }

  /*  Segmented Control*/
  .segmented-control {
    @include nes_border(space);
    border-top: 0;
    border-bottom: 0;
  }

  .segmented-control .radio-selection {
    @include nes_border(stretch);
    border-left: 0;
    border-right: 0;
  }

  .segmented-control input:checked + label {
    color: $contrastHighlightColor;
  }

  // CONTENT COMPONENTS
  // TOFIX: :not() not compiled to CSS!
  .image-border :not(#selfEducation .image-border) {
    padding: 0;
    margin: 0;
  }

  // TODO: Project-domain
  #selfEducation .image-border {
    padding: 5px;
    margin: 10px;
  }

  .code-block,
  .box-border,
  .setting-panel ,
  .display-content>.container,
  .alert,
  // TODO: project-domain
  .image-border > img,
  .image-border > .duties-item,
  .image-border > .portfolio-item-content {
    border-style: solid;
    border-width: 4px;
    border-image-slice: 3;
    border-image-width: 3;
    border-image-repeat: space;
    border-image-repeat: stretch;
    // TODO: Dynamic
    // dark
    border-image-source: url('data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8" ?><svg version="1.1" width="8" height="8" xmlns="http://www.w3.org/2000/svg"><path d="M3 1 h1 v1 h-1 z M4 1 h1 v1 h-1 z M2 2 h1 v1 h-1 z M5 2 h1 v1 h-1 z M1 3 h1 v1 h-1 z M6 3 h1 v1 h-1 z M1 4 h1 v1 h-1 z M6 4 h1 v1 h-1 z M2 5 h1 v1 h-1 z M5 5 h1 v1 h-1 z M3 6 h1 v1 h-1 z M4 6 h1 v1 h-1 z" fill="rgb(33,37,41)" /></svg>');
    // light
    //     border-image-source: url('data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8" ?><svg version="1.1" width="8" height="8" xmlns="http://www.w3.org/2000/svg"><path d="M3 1 h1 v1 h-1 z M4 1 h1 v1 h-1 z M2 2 h1 v1 h-1 z M5 2 h1 v1 h-1 z M1 3 h1 v1 h-1 z M6 3 h1 v1 h-1 z M1 4 h1 v1 h-1 z M6 4 h1 v1 h-1 z M2 5 h1 v1 h-1 z M5 5 h1 v1 h-1 z M3 6 h1 v1 h-1 z M4 6 h1 v1 h-1 z" fill="rgb(255,255,255)" /></svg>');
    border-image-outset: 2;
  }

  .display-content > .container {
    background-color: $schemeColor; //TODO: Dynamic
  }

  .personal-image img,
  .hero-image .circle,
  .hero-image .circle-2,
  .hero-image .floating {
    border: $baseColor 4px solid; //TODO: Dynamic
    opacity: 1;
  }

  .code-block pre {
    padding: 0 1rem;
  }
}
