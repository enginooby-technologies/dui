$blackContainerBorderImg: url('data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8" ?><svg version="1.1" width="8" height="8" xmlns="http://www.w3.org/2000/svg"><path d="M3 1 h1 v1 h-1 z M4 1 h1 v1 h-1 z M2 2 h1 v1 h-1 z M5 2 h1 v1 h-1 z M1 3 h1 v1 h-1 z M6 3 h1 v1 h-1 z M1 4 h1 v1 h-1 z M6 4 h1 v1 h-1 z M2 5 h1 v1 h-1 z M5 5 h1 v1 h-1 z M3 6 h1 v1 h-1 z M4 6 h1 v1 h-1 z" fill="rgb(33,37,41)" /></svg>');
$whiteContainerBorderImg: url('data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8" ?><svg version="1.1" width="8" height="8" xmlns="http://www.w3.org/2000/svg"><path d="M3 1 h1 v1 h-1 z M4 1 h1 v1 h-1 z M2 2 h1 v1 h-1 z M5 2 h1 v1 h-1 z M1 3 h1 v1 h-1 z M6 3 h1 v1 h-1 z M1 4 h1 v1 h-1 z M6 4 h1 v1 h-1 z M2 5 h1 v1 h-1 z M5 5 h1 v1 h-1 z M3 6 h1 v1 h-1 z M4 6 h1 v1 h-1 z" fill="rgb(255,255,255)" /></svg>');
$blackInputBorderImg: url('data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8" ?><svg version="1.1" width="5" height="5" xmlns="http://www.w3.org/2000/svg"><path d="M2 1 h1 v1 h-1 z M1 2 h1 v1 h-1 z M3 2 h1 v1 h-1 z M2 3 h1 v1 h-1 z" fill="rgb(33,37,41)" /></svg>');
$whiteInputBorderImg: url('data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8" ?><svg version="1.1" width="5" height="5" xmlns="http://www.w3.org/2000/svg"><path d="M2 1 h1 v1 h-1 z M1 2 h1 v1 h-1 z M3 2 h1 v1 h-1 z M2 3 h1 v1 h-1 z" fill="rgb(255,255,255)" /></svg>');
$blackButtonBorderImg: url('data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8" ?><svg version="1.1" width="5" height="5" xmlns="http://www.w3.org/2000/svg"><path d="M2 1 h1 v1 h-1 z M1 2 h1 v1 h-1 z M3 2 h1 v1 h-1 z M2 3 h1 v1 h-1 z" fill="rgb(33,37,41)" /></svg>');
$whiteButtonBorderImg: url('data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8" ?><svg version="1.1" width="5" height="5" xmlns="http://www.w3.org/2000/svg"><path d="M2 1 h1 v1 h-1 z M1 2 h1 v1 h-1 z M3 2 h1 v1 h-1 z M2 3 h1 v1 h-1 z" fill="rgb(255,255,255)" /></svg>');

@mixin nes_border($repeat_mode, $border_img) {
  border-image-slice: 2;
  border-image-width: 2;
  border-image-repeat: $repeat_mode;
  border-image-source: $border_img;
  border-image-outset: 2;
  background-clip: padding-box;
  border-style: solid;
  border-width: 4px;
}

@mixin pokeball($color) {
  // prettier-ignore
  box-shadow: 36px 6px,42px 6px,48px 6px,54px 6px,24px 12px,30px 12px,36px 12px $color,42px 12px $color,48px 12px $color,54px 12px $color,60px 12px,66px 12px,18px 18px,24px 18px #fff,30px 18px #fff,36px 18px $color,42px 18px $color,48px 18px $color,54px 18px $color,60px 18px $color,66px 18px $color,72px 18px,12px 24px,18px 24px #fff,24px 24px #fff,30px 24px $color,36px 24px $color,42px 24px $color,48px 24px $color,54px 24px $color,60px 24px $color,66px 24px $color,72px 24px,78px 24px,12px 30px,18px 30px #fff,24px 30px $color,30px 30px $color,36px 30px $color,42px 30px $color,48px 30px $color,54px 30px $color,60px 30px $color,66px 30px $color,72px 30px $color,78px 30px,6px 36px,12px 36px #fff,18px 36px $color,24px 36px $color,30px 36px $color,36px 36px $color,42px 36px $color,48px 36px $color,54px 36px $color,60px 36px $color,66px 36px $color,72px 36px $color,78px 36px $color,84px 36px,6px 42px,12px 42px,18px 42px,24px 42px $color,30px 42px $color,36px 42px $color,42px 42px $color,48px 42px,54px 42px,60px 42px,66px 42px $color,72px 42px $color,78px 42px $color,84px 42px,6px 48px,12px 48px,18px 48px,24px 48px,30px 48px $color,36px 48px $color,42px 48px,48px 48px #fff,54px 48px #fff,60px 48px #fff,66px 48px,72px 48px $color,78px 48px $color,84px 48px,6px 54px,12px 54px #9fa1a1,18px 54px #fff,24px 54px,30px 54px,36px 54px,42px 54px,48px 54px #fff,54px 54px #fff,60px 54px #fff,66px 54px,72px 54px,78px 54px,84px 54px,12px 60px,18px 60px #fff,24px 60px #fff,30px 60px #fff,36px 60px,42px 60px,48px 60px #fff,54px 60px #fff,60px 60px #fff,66px 60px,72px 60px #fff,78px 60px,12px 66px,18px 66px #fff,24px 66px #fff,30px 66px #fff,36px 66px #fff,42px 66px #fff,48px 66px,54px 66px,60px 66px,66px 66px #fff,72px 66px #fff,78px 66px,18px 72px,24px 72px #9fa1a1,30px 72px #9fa1a1,36px 72px #fff,42px 72px #fff,48px 72px #fff,54px 72px #fff,60px 72px #fff,66px 72px #fff,72px 72px,24px 78px,30px 78px,36px 78px #9fa1a1,42px 78px #9fa1a1,48px 78px #9fa1a1,54px 78px #9fa1a1,60px 78px,66px 78px,36px 84px,42px 84px,48px 84px,54px 84px;
}

.nes-style {
  // CURSOR
  cursor: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABFklEQVRYR9WXURLDIAhE6/0PbSdOtUpcd1Gnpv1KGpTHBpCE1/cXq+vrMph7dGvXZTtpfW10DCA5jrH1H0Jhs5E0hnZdCR+vb5S8Nn8mQCeS9BdSalYJqMBjAGzq59xAESN7VFVUgV8AZB/dZBR7QTFDCqGquvUBVVoEtgIwpQRzmANSFHgWQKExHdIrPeuMvQNDarXe6nC/AutgV3JW+6bgqQLeV8FekRtgV+ToDKEKnACYKsfZjjkam7a0ZpYTytwmgainpC3HvwBocgKOxqRjehoR9DFKNFYtOwCGYCszobeCbl26N6yyQ6g8X/Wex/rBPsNEV6qAMaJPMynIHQCoSqS9JSMmwef51LflTgCRszU7DvAGiV6mHWfsaVUAAAAASUVORK5CYII=),
    auto;

  .form-group input {
    // TODO: typing icon
    cursor: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABFklEQVRYR9WXURLDIAhE6/0PbSdOtUpcd1Gnpv1KGpTHBpCE1/cXq+vrMph7dGvXZTtpfW10DCA5jrH1H0Jhs5E0hnZdCR+vb5S8Nn8mQCeS9BdSalYJqMBjAGzq59xAESN7VFVUgV8AZB/dZBR7QTFDCqGquvUBVVoEtgIwpQRzmANSFHgWQKExHdIrPeuMvQNDarXe6nC/AutgV3JW+6bgqQLeV8FekRtgV+ToDKEKnACYKsfZjjkam7a0ZpYTytwmgainpC3HvwBocgKOxqRjehoR9DFKNFYtOwCGYCszobeCbl26N6yyQ6g8X/Wex/rBPsNEV6qAMaJPMynIHQCoSqS9JSMmwef51LflTgCRszU7DvAGiV6mHWfsaVUAAAAASUVORK5CYII=),
      auto;
  }

  .button,
  button,
  input,
  a,
  .dui-radio span.text,
  .checkbox label,
  .dropdown button {
    cursor: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAzElEQVRYR+2X0Q6AIAhF5f8/2jYXZkwEjNSVvVUjDpcrGgT7FUkI2D9xRfQETwNIiWO85wfINfQUEyxBG2ArsLwC0jioGt5zFcwF4OYDPi/mBYKm4t0U8ATgRm3ThFoAqkhNgWkA0jJLvaOVSs7j3qMnSgXWBMiWPXe94QqMBMBc1VZIvaTu5u5pQewq0EqNZvIEMCmxAawK0DNkay9QmfFNAJUXfgGgUkLaE7j/h8fnASkxHTz0DGIBMCnBeeM7AArpUd3mz2x3C7wADglA8BcWMZhZAAAAAElFTkSuQmCC)
        14 0,
      pointer;
  }

  // SETTING
  // disable this since buttons using border-image which could not has radius!
  #border-panel {
    display: none;
  }

  .cp-toggle {
    background-color: $highlightColor;
  }

  .cp-toggle i {
    color: $contrastHighlightColor !important;
    position: relative;
    top: -5px;
    left: -0.5px;
  }

  .setting-panel {
    background-color: $schemeColor;
  }

  // BASIC COMPONENTS
  .button,
  .cp-toggle {
    border-radius: 0 !important;
    border-image-slice: 2;
    border-image-width: 2;
    border-image-source: url('data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8" ?><svg version="1.1" width="5" height="5" xmlns="http://www.w3.org/2000/svg"><path d="M2 1 h1 v1 h-1 z M1 2 h1 v1 h-1 z M3 2 h1 v1 h-1 z M2 3 h1 v1 h-1 z" fill="rgb(33,37,41)" /></svg>');
    border-image-outset: 2;
    border-style: solid;
    border-width: 4px;
    position: relative;
    display: inline-block;
    margin: 4px;
    text-align: center;
    vertical-align: middle;
    user-select: none;
  }

  .button {
    //     border-image-repeat: space;
    border-image-repeat: stretch;
  }

  .cp-toggle {
    border-image-repeat: stretch;
  }

  .button::after,
  .cp-toggle::after {
    border-radius: 0 !important;
    position: absolute;
    top: -4px;
    right: -4px;
    bottom: -4px;
    left: -4px;
    content: "";
    box-shadow: inset -4px -4px #006bb3; // TODO: Dynamic
  }

  .skillbar {
    @include nes_border(space, $blackInputBorderImg);
    margin-top: 5px;
    margin-bottom: 5px;
    border-image-width: 3;
    border-width: 3px;
    //     border-radius: 0;
  }

  .badge.badge-pill {
    @include nes_border(stretch, $blackInputBorderImg);
    border-image-width: 3;
    border-width: 3px;
    border-radius: 0;
  }

  // FORM COMPONENTS
  .dui-radio > input {
    margin-right: 20px;
    appearance: none;
    width: 1px;
    height: 1px;
    overflow: hidden;
    clip: rect(0 0 0 0);
    white-space: nowrap;
    border: 0;
    clip-path: inset(50%);
    outline: 0;
    box-sizing: border-box;
    padding: 0;
  }

  // arrow icon
  .dui-radio span.text {
    position: relative;
  }

  .dui-radio span.text::before {
    color: $highlightColor; // TODO: Dynamic
  }

  .dui-radio input:checked + label .text::before,
  .dui-radio:hover input + label .text::before {
    position: absolute;
    top: 4px;
    left: -10px;
    content: "";
    width: 2px;
    height: 2px;
    // prettier-ignore
    box-shadow: 2px 2px,4px 2px,2px 4px,4px 4px,6px 4px,8px 4px,2px 6px,4px 6px,6px 6px,8px 6px,10px 6px,2px 8px,4px 8px,6px 8px,8px 8px,10px 8px,12px 8px,2px 10px,4px 10px,6px 10px,8px 10px,10px 10px,2px 12px,4px 12px,6px 12px,8px 12px,2px 14px,4px 14px;
  }

  .dui-radio:hover input:not(:checked) + label .text::before {
    animation: flash infinite;
    animation-duration: 1.3s;
  }

  .checkbox label::before {
    width: 2px;
    height: 2px;
    color: $baseColor; // TODO: Dynamic
    position: absolute;
    top: 3px;
    left: -1px;
    content: "";
    // prettier-ignore
    box-shadow: 2px 2px,4px 2px,6px 2px,8px 2px,10px 2px,12px 2px,14px 2px,16px 2px,2px 4px,16px 4px,2px 6px,16px 6px,2px 8px,16px 8px,2px 10px,16px 10px,2px 12px,16px 12px,2px 14px,16px 14px,2px 16px,4px 16px,6px 16px,8px 16px,10px 16px,12px 16px,14px 16px,16px 16px;
  }

  .checkbox input:checked + ::before {
    // prettier-ignore
    box-shadow: 2px 2px,4px 2px,6px 2px,8px 2px,10px 2px,12px 2px,14px 2px,18px 2px,20px 2px,2px 4px,16px 4px,18px 4px,20px 4px,2px 6px,14px 6px,16px 6px,2px 8px,4px 8px,12px 8px,14px 8px,2px 10px,4px 10px,6px 10px,10px 10px,12px 10px,16px 10px,2px 12px,6px 12px,8px 12px,10px 12px,16px 12px,2px 14px,8px 14px,16px 14px,2px 16px,4px 16px,6px 16px,8px 16px,10px 16px,12px 16px,14px 16px,16px 16px;
  }

  .checkbox label > i {
    display: none;
  }

  .form-group input,
  textarea {
    @include nes_border(space, $blackInputBorderImg);
    width: calc(100% - 8px);
    padding: 0.5rem 1rem;
    margin: 4px;
  }

  .dropdown,
  .dropdown-menu {
    border-image-slice: 2;
    border-image-width: 2;
    border-image-repeat: stretch;
    //     border-image-repeat: space;
    border-image-source: url('data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8" ?><svg version="1.1" width="5" height="5" xmlns="http://www.w3.org/2000/svg"><path d="M2 1 h1 v1 h-1 z M1 2 h1 v1 h-1 z M3 2 h1 v1 h-1 z M2 3 h1 v1 h-1 z" fill="rgb(33,37,41)" /></svg>');
    border-image-outset: 2;
    background-clip: padding-box;
    border-style: solid;
    border-width: 4px;
  }

  .dropdown button {
    background-color: $schemeColor;
    padding: 3px 5px;
  }

  .dropdown-menu {
    background-color: $schemeColor;
    border-image-repeat: space;
  }

  .dropdown .dropdown-arrow::before {
    //     content: none;
  }
  .dropdown .dropdown-arrow::after {
    width: 3px;
    height: 3px;
    color: $baseColor; //TODO: Dynamic
    box-shadow: 3px 3px, 6px 3px, 9px 3px, 12px 3px, 15px 3px, 18px 3px,
      21px 3px, 3px 6px, 6px 6px, 9px 6px, 12px 6px, 15px 6px, 18px 6px,
      21px 6px, 6px 9px, 9px 9px, 12px 9px, 15px 9px, 18px 9px, 6px 12px,
      9px 12px, 12px 12px, 15px 12px, 18px 12px, 9px 15px, 12px 15px, 15px 15px,
      12px 18px;
    position: absolute;
    top: calc(50% - 11px);
    right: 27px;
    pointer-events: none;
    content: "";
    zoom: 0.5;
  }

  /*  Segmented Control*/
  .segmented-control {
    @include nes_border(space, $blackInputBorderImg);
    border-top: 0;
    border-bottom: 0;
    background-color: transparent !important;
  }

  .segmented-control .radio-selection {
    @include nes_border(stretch, $blackInputBorderImg);
    border-left: 0;
    border-right: 0;

    border-image-width: 3;
    border-width: 3px;
    //     border-radius: 0;
  }

  .segmented-control input:checked + label {
    color: $contrastHighlightColor;
  }

  // CONTENT COMPONENTS
  // TOFIX: :not() not compiled to CSS!
  .image-border :not(#selfEducation .image-border) {
    padding: 0;
    margin: 0;
  }

  // TODO: Project-domain
  #selfEducation .image-border {
    padding: 5px;
    margin: 10px;
  }

  .code-block,
  .box-border,
  .setting-panel ,
  .display-content>.container,
  .alert,
  // TODO: project-domain
  .image-border > img,
  .image-border > .duties-item,
  .image-border > .portfolio-item-content {
    border-style: solid;
    border-width: 4px;
    border-image-slice: 3;
    border-image-width: 3;
    border-image-repeat: space;
    border-image-repeat: stretch;
    // TODO: Dynamic
    // dark
    border-image-source: url('data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8" ?><svg version="1.1" width="8" height="8" xmlns="http://www.w3.org/2000/svg"><path d="M3 1 h1 v1 h-1 z M4 1 h1 v1 h-1 z M2 2 h1 v1 h-1 z M5 2 h1 v1 h-1 z M1 3 h1 v1 h-1 z M6 3 h1 v1 h-1 z M1 4 h1 v1 h-1 z M6 4 h1 v1 h-1 z M2 5 h1 v1 h-1 z M5 5 h1 v1 h-1 z M3 6 h1 v1 h-1 z M4 6 h1 v1 h-1 z" fill="rgb(33,37,41)" /></svg>');
    // light
    //     border-image-source: url('data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8" ?><svg version="1.1" width="8" height="8" xmlns="http://www.w3.org/2000/svg"><path d="M3 1 h1 v1 h-1 z M4 1 h1 v1 h-1 z M2 2 h1 v1 h-1 z M5 2 h1 v1 h-1 z M1 3 h1 v1 h-1 z M6 3 h1 v1 h-1 z M1 4 h1 v1 h-1 z M6 4 h1 v1 h-1 z M2 5 h1 v1 h-1 z M5 5 h1 v1 h-1 z M3 6 h1 v1 h-1 z M4 6 h1 v1 h-1 z" fill="rgb(255,255,255)" /></svg>');
    border-image-outset: 2;
  }

  .image-border > img,
  .image-border > .duties-item,
  .image-border > .portfolio-item-content {
    border-image-width: 4.4;
    border-width: 3px;
    border-radius: 0;
  }

  .image-border.course-item > .portfolio-item-content img {
    //     width: 90%;
    position: relative;
    left: -2.7px;
  }

  .display-content > .container {
    background-color: $schemeColor;
  }

  .personal-image img {
    border: $baseColor 4px solid; //TODO: Dynamic
    opacity: 1;
  }

  /* Circle */
  .hero-image .circle,
  .hero-image .circle-2,
  .hero-image .floating {
    background-color: transparent;
  }

  .hero-image .floating::before {
    position: absolute;
    top: -28px;
    left: -31px;
    content: "";
    background: 0 0;
    width: 6px;
    height: 6px;
    color: #060606;
    transform: rotate(90);
    @include pokeball($colorfull3);
    //     zoom: 0.8;
  }

  .hero-image .circle::before {
    position: absolute;
    top: -5px;
    left: -6px;
    content: "";
    background: 0 0;
    width: 6px;
    height: 6px;
    color: #060606;
    transform: rotate(0);
    @include pokeball($colorfull1);
  }

  .hero-image .circle-2 {
    width: 45px;
    height: 45px;
  }
  .hero-image .circle-2::before {
    position: absolute;
    top: -2px;
    left: -3px;
    content: "";
    background: 0 0;
    width: 6px;
    height: 6px;
    color: #060606;
    transform: rotate(0);
    @include pokeball($colorfull2);
    zoom: 0.5;
  }

  .blog-intro > img {
    @include nes_border(space, $blackInputBorderImg);
  }

  .code-block pre {
    padding: 0 1rem;
  }
}
